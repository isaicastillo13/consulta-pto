import sql from 'mssql';

// Configuraci칩n de la conexi칩n
const dbConfig = {
  server: 'rtxdbtest',
  user: 'usr-rhqdbtest',          // 游녣 Usuario
  password: 'LaMupE03x',          // 游녣 Contrase침a
  database: 'MERC',
  options: {
    encrypt: false,
    trustServerCertificate: true
  },
  connectionTimeout: 300000,
  pool: {
    min: 20,
    max: 15000,
  }
};

// Crear un pool de conexi칩n
const poolPromise = sql.connect(dbConfig)
  .then(pool => {
    console.log('Conectado a SQL Server');
    return pool;
  })
  .catch(err => {
    console.error('Error conectando a SQL Server:', err);
    throw err;
  });

export { sql, poolPromise };
